<!DOCTYPE html>
<!--
 * Copyright 2013 Keith D Swenson
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * Contributors Include: Shamim Quader, Sameer Pradhan, Kumar Raja, Jim Farris,
 * Sandia Yang, CY Chen, Rajiv Onat, Neal Wang, Dennis Tam, Shikha Srivastava,
 * Anamika Chaudhari, Ajay Kakkar, Rajeev Rastogi
 * -->
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>Corporate LDAP - Open Id Provider</title>
        <link rel="stylesheet" type="text/css" href="$/global.css" />
        <link rel="openid.server" href="{{root}}" />
        <link rel="openid.delegate" href="{{root}}" />
        <link rel="openid2.provider" href="{{root}}" />
    </head>
    <body>
        <div id="bodyWrapper">
            <table cellpadding="0" cellspacing="0" width="100%">
                <tr>
                    <td>
                        <img src="$/ldapSSOFIHeader.gif" width="970" height="121" alt="" />
                    </td>
                </tr>
                <tr>
                    <td>
                        <table cellpadding="0" cellspacing="0">
                            <tr>
                                <td class="contentArea">
                                    <div class="mainContentArea">
                                        <!--form action="{{thisPage}}">
                                        <p>This server allows you to use your corporate LDAP identity and an OpenID.</p>
                                        <p>Logging in to this server with your corporate id gives you access to all other servers that use OpenID, without logging in again. Think of it as <b>'Open Single Sign-On'</b>.</p>
                                        <div class="labelArea">Enter Corporate ID:&nbsp;&nbsp;
                                        <input type="text" name="entered-id" class="inputGeneral" />
                                        <input type="submit" class="btnBlue" title="Lookup" value="Lookup" />
                                        <input type="hidden" name="openid.mode" value="lookup"/>
                                        </div>
                                        </form-->
                                    </div>
                                    <div class="loginArea">
                                        <div class="signInImage"></div>
                                        <div class="sideLinks"><a href="{{thisPage}}?openid.mode=resetPasswordView" title="Reset Password">Reset Password</a> &nbsp; &nbsp;
                                                               <a href="{{loggedOpenId}}?openid.mode=passwordView" title="Change Password">Change Password</a> &nbsp; &nbsp;
                                                               <a href="{{loggedOpenId}}" title="View Profile">View Your Profile</a></div>
                                        <div class="mainLoginArea">
                                            <span class="greenAlert">You are logged in as <span class="blueText">{{loggedUserId}}</span>.  <br/>
                                            <span class="redText">{{userError}}</span></span>
                                            <div class="loginLabelArea">
                                                and can use this openid:&nbsp;&nbsp;
                                                <form method="post" action="{{thisPage}}">
                                                    <input type="hidden" name="openid.mode" value="Copy"/>
                                                    <input type="hidden" name="go" value="{{thisPage}}"/>
                                                    <input type="text" name="loggedOpenId" class="inputGeneralBig" value="{{loggedOpenId}}" />
                                                    <input type="submit" class="btnBlue" title="Copy" value="Copy" />
                                                </form>
                                            </div>
                                        </div>
                                        <form method="post" action="{{thisPage}}">
                                            <input type="hidden" name="openid.mode" value="logout" />
                                            <input type="hidden" name="go" value="{{thisPage}}"/>
                                            <div class="buttonArea">
                                                <input type="submit" class="btnGreen" title="Log Out" value="Log Out" />
                                            </div>
                                        </form>
                                    </div>
                                </td>
                            </tr>
                         </table>
                     </td>
                </tr>
            </table>
        </div>
    </body>
</html>
