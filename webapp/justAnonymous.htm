<!DOCTYPE html>
<!--
 * Copyright 2013 Keith D Swenson
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * Contributors Include: Shamim Quader, Sameer Pradhan, Kumar Raja, Jim Farris,
 * Sandia Yang, CY Chen, Rajiv Onat, Neal Wang, Dennis Tam, Shikha Srivastava,
 * Anamika Chaudhari, Ajay Kakkar, Rajeev Rastogi, Todd Palmer, Tom Yang, 
 *
 * justAnonymous.htm
 * -->
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>Corporate LDAP - Open Id Provider</title>
        <link rel="openid.server" href="{{root}}" />
        <link rel="openid.delegate" href="{{root}}" />
        <link rel="openid2.provider" href="{{root}}" />
        <link rel="stylesheet" href="$/bootstrap.min.css">
        <script src="$/jquery.min.js"></script>
        <script src="$/angular.min.js"></script>
        <link rel="stylesheet" href="$/fujitsu.css">

        <script>
        var app = angular.module('myApp', []);
        app.controller('myCtrl', function($scope, $http) {
            $scope.info = {{userInfo}};
            $scope.userId = $scope.info.expectedUser;
            //$scope.info.isLocal = false;
            //$scope.info.isLDAP = true;
            $scope.bodyStyle = "";
            if ($scope.info.isLDAP) {
                $scope.bodyStyle = "background-color:skyblue";
            }
        });
        </script>
        
    </head>
    <body onload="document.getElementById('entered-id').focus();" ng-app="myApp" ng-controller="myCtrl" 
          style="{{bodyStyle}}">
        <div id="loginWrapper">
            <form method="post" action="{{info.baseUrl}}">
                <input type="hidden" name="openid.mode" value="loginAction"/>
                <!--input type="hidden" name="go" value="{{info.go}}"/-->
                <!--input type="hidden" name="display-id" value="{{id}}"/-->
                <table cellpadding="0" cellspacing="0" width="100%">
                    <tr>
                        <td><img src="$/headerFujitsuID.gif" width="546" height="136" alt="" /></td>
                    </tr>
                    <tr>
                        <td class="loginWrapperContentArea">
                            <span ng-show="info.userError" class="errorArea"><strong>{{info.userError}}</strong></span>
                            <div class="loginSpacing">
                                <strong ng-show="info.isLocal">Email Address:</strong>
                                <strong ng-show="info.isLDAP">User ID from LDAP Directory Server:</strong>
                                <input type="text" id="entered-id" name="entered-id" class="form-control" 
                                       ng-model="userId"/>
                            </div>
                            <div class="loginSpacing">
                                <strong>Password:</strong>
                                <input type="password" name="password" class="form-control" 
                                       placeholder="Enter your password" ng-model="userPass"/>
                            </div>
                            <div class="loginSpacing"></div>
                            <div class="loginSpacing" style="float:right;">
                                <input type="submit" class="btn btn-primary" title="Log In" name="op" value="Log In" />
                            </div>
                        </td>
                    </tr>
                    <tr ng-show="info.isLocal">
                        <td class="registerArea" style="text-align:center">
                            <b><a href="{{info.baseUrl}}?openid.mode=register" title="Register for free account">
                                Register for free account</a>
                                &nbsp;&nbsp;|&nbsp;&nbsp;
                                <a href="{{info.baseUrl}}?openid.mode=register" title="Forgot Your Password">
                                Reset your password</a></b>
                                <br /><br />
                            <span><b>Note:</b> Enter your email address and password. If you have never set up a password here for your email address then use register for free account.<br/>If you have forgotten your password, use reset.</span>
                       </td>
                    </tr>
                </table>
            </form>
        </div>
    </body>
</html>
