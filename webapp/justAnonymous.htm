<!DOCTYPE html>
<!--
 * Copyright 2013 Keith D Swenson
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * Contributors Include: Shamim Quader, Sameer Pradhan, Kumar Raja, Jim Farris,
 * Sandia Yang, CY Chen, Rajiv Onat, Neal Wang, Dennis Tam, Shikha Srivastava,
 * Anamika Chaudhari, Ajay Kakkar, Rajeev Rastogi, Todd Palmer, Tom Yang,
 *
 * justAnonymous.htm
 * -->
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>SSOFI - Login</title>
    <link rel="stylesheet" href="$/bootstrap.min.css">
    <link rel="stylesheet" href="$/global.css">
    <script src="$/jquery.min.js"></script>
    <script src="$/angular.min.js"></script>

    <script>
    var app = angular.module('myApp', []);
    app.controller('myCtrl', function($scope, $http) {
        $scope.info = {{userInfo}};
        $scope.userId = $scope.info.expectedUser;
        $scope.bodyStyle = {};
        if ($scope.info.isLDAP) {
            $scope.bodyStyle = {"background-color":"skyblue"};
        }
    });
    app.filter('escape', function() {
        return window.encodeURIComponent;
    });
    </script>

</head>
<body ng-app="myApp" ng-controller="myCtrl"
      onload="document.getElementById('entered-id').focus();" 
      ng-style="bodyStyle">
  <div id="bodyWrapper">
    <img src="$/logoSSOFI.gif"/>
    
     
      
    <div id="loginWrapper">
        <form method="post" action="{{info.baseUrl}}">
            <input type="hidden" name="openid.mode" value="loginAction"/>
            <div><img src="$/headerLogin.gif" width="546" alt="" /></div>
            <div class="loginWrapperContentArea">
                <div ng-show="info.userError" class="errorArea">
                    <strong ng-repeat="err in info.errors">{{err}}<br/></strong>
                </div>
                <div class="loginSpacing">
                    <strong ng-show="info.isLocal">Email Address:</strong>
                    <strong ng-show="info.isLDAP">User ID from LDAP Directory Server:</strong>
                    <input type="text" id="entered-id" name="entered-id" class="form-control"
                           ng-model="userId" placeholder="Enter your email address" />
                </div>
                <div class="loginSpacing">
                    <strong>Password:</strong>
                    <input type="password" name="password" class="form-control"
                           placeholder="Enter your password" ng-model="userPass"/>
                </div>

                <div class="loginSpacing">
                    <div style="float:left;">
                        <div style="font-size: x-small;width:200px;">
                        By clicking Log In you indicate that you have read and agree with
                        our <a href="$/PrivacyPolicy.html" target="_blank">Privacy Policy</a>.</div>
                    </div>
                    <div style="float:right;">
                        <input type="submit" class="btn btn-primary" title="Log In" name="op" value="Log In" />
                    </div>
                    <div style="clear:both;"></div>
                </div>
                <div class="loginSpacing"></div>
                <hr/>
                <div class="registerArea" ng-show="info.isLocal">
                    <div>
                    Have you never logged in here before?  Then you can:
                    </div>
                    <div class="loginSpacing">
                    <b><a href="{{info.baseUrl}}?openid.mode=requestForm&email={{userId|escape}}" title="Register for free account">
                        ➤ Register for free account</a></b>
                    </div>
                    <div>
                    Have you forgotten your password?  Then you can:
                    </div>
                    <div class="loginSpacing">
                        <b><a href="{{info.baseUrl}}?openid.mode=requestForm&email={{userId|escape}}" title="Reset a forgotten Password">
                        ➤ Reset your password</a></b>
                    </div>
                </div>

            </div>
        </form>
    </div>

    
  </div>
</body>
</html>
